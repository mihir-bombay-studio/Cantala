{{ 'new-blog-article.css' | asset_url | stylesheet_tag }}

<div class="article-wrapper rel">
  <div class="container">
    <div class="darker-background"></div>
    <div class="article-img-content rel">
      <div class="article-img">
      	{{ article.image | img_url: '500x' | img_tag }}
      </div>
      <div class="article-content-wrap">
        <div class="abs">
        {% for tag in article.tags limit:1 %}
        <div class="article-tag medium">{{ tag }}</div>
        {% endfor %}
        <h2 class="article-title heading-2">{{ article.title }}</h2>
        </div>
        <div class="article-date">{{ article.created_at | date: "%d %b %Y" }}</div>
        <div class="article-excerpt">{{ article.excerpt }}</div>
      </div>
    </div>
    <div class="article-content">{{ article.content }}</div>
    <div class="explore-products-heading">{{ section.settings.heading }}</div>
    <div class="explore-products-wrap flex-box justify-between">
    	{% for block in section.blocks %}
        {% if block.type == "product" %}
      	{% assign product_handle = blocks.settings.featured_product %}
      		<div class="explore-product">
              <div class="ep-image">{{ product_handle.image }}</div>
              <div class="ep-name">{{ product_handle.title | escape }}</div>
      		</div>
        {% endif %}
        {% endfor %}
    </div>
    {% for block in section.blocks %}
        {% if block.type == "button" %}
        <a href="{{ block.settings.button_link }}" class="btn medium {% if block.settings.button-color == 'light' %}btn-light{% else %}btn-dark{% endif %}">
          {{ block.settings.button_text | escape }}
        </a>
        {% endif %}
        {% endfor %}
  </div>
</div>

{% schema %}
  {
    "name": "New Blog Article",
    "settings": [
		{
			"id": "heading",
        	"type": "text",
        	"label": "Explore Products Heading"
		}
	],
	"blocks": [
			{
                "type": "product",
                "name": "Explore Products",
				"limit": 3,
                "settings": [

                {
                "type": "product",
                "id": "featured_product",
                "label": "Featured product"
                }
              ]
            },
			{
                "type": "button",
                "name": "Button",
				"limit": 1,
                "settings": [

                {
                "id": "button_text",
                "type": "text",
                "label": "Button Text"

                },
                {
                "id": "button_link",
                "type": "url",
                "label": "Button Link"
                },
				{
                  "type": "select",
                  "id": "button-color",
                  "options": [
                    {
                      "value": "light",
                      "label": "Light"
                    },
                    {
                      "value": "dark",
                      "label": "Dark"
                    }
                  ],
                  "default": "dark",
                  "label": "Dark"
                }
              ]
            }
		],
	"presets": [
    {
      "name": "New Blog Article",
		"category":"section"
    }
  ]
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}