<style>
  .background-drawer-cart {
    width: 100vw;
    position: fixed;
    height: 100%;
    background-color: #342D2540;
    /* right: -100vw; */
    right: 0;
    top: 0;
    z-index: 8;
    display: block !important;
    transition: .4s ease;
  }
  .background-drawer-cart.drawn {
    right: 0;
  }
  .drawer-cart {
    display: block;
    position: fixed;
    z-index: 9;
    height: 100vh;
    width: 100%;
    max-width: 491px;
    background-color: #F4EDE2;
    top: 0;
    /*right: -491px;*/
    right: 0;
    padding: 0;
    transition: .4s ease;
  }
  .drawer-cart.drawn {
    right: 0;
  }
  .close-drawer {
    padding-top: 24px;
    padding-left: 16px;
    padding-right: 16px;
    max-width: 396px;
    margin: 0 auto;
    position: relative;
    display: block;
    cursor: pointer;
  }
  .cart-sub-head {
    background-color: #E6AF7B;
    color: #222222;
    text-align: center;
    font-size: 12px;
    padding: 8px 16px;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  span.truck {
    margin-right: 12px;
  }
  .cart-body {
    max-width: none;
    display: block;
    margin: 0 auto;
    padding: 0;
    height: calc(100vh - 275px);
    overflow-y: scroll;
  }

  .cart-body::-webkit-scrollbar {
    display: none; }

  .cart-body {
    -ms-overflow-style: none;
    /* IE and Edge */
    scrollbar-width: none;
    /* Firefox */ }

  .cart-products-block {
    padding: 26px 0;
    border-bottom: .5px solid #0003;
    padding-left: 16px;
    padding-right: 16px;
    max-width: 396px;
    margin: 0 auto;
    position: relative;
  }
  .cart-product {
    display: flex;
  }
  .cart-product-thumb {
    width: 100%;
    max-width: 92px;
  }
  .cart-product-thumb img {
    width: 100%;
  }
  .cart-product-content {
    padding-left: 36px;
    width: 100%;
  }
  .cart-product-row {
    display: flex;
  }
  .cart-product-row .cart-product-col:first-child {
    width: 75%;
  }
  .cart-product-row .cart-product-col:last-child {
    width: 25%;
    text-align: right;
  }
  .accordion .symbol, .calculator-product-col .symbol, .cart-product-content .symbol {
    height: 20px;
    width: 20px;
    border-radius: 50%;
    border: 2px solid #000;
    -webkit-transition-property: background,-webkit-transform;
    transition-property: transform,background,-webkit-transform;
    -webkit-transition-duration: .4s;
    transition-duration: .4s;
    -webkit-transition-timing-function: ease-in-out;
    transition-timing-function: ease-in-out;
    position: absolute;
    right: 0;
  }
  .cart-product-content .symbol {
    cursor: pointer;
  }
  .cart-product-content .symbol-minus {
    right: 28px;
  }
  .cart-product-content h5 {
    font-size: 20px;
    font-family: 'Athelas';
    font-weight: 700;
    color: #342C24;
  }
  .cart-product-remove {
    padding: 0;
    border: 0;
    background-color: transparent;
    height: 7px;
    width: 7px;
    opacity: .25;
    cursor: pointer;
  }

  .cart-product-remove svg {
    width: 100%;
  }
</style>

<div class="drawer-cart">
  <div class="drawer-cart-wrapper rel">
    <div class="cart-sub-head {% if cart.item_count > 0 and cart.total_price < 10000 %}no-vis{% endif %}">
      <span class="truck">{% include "icon-truck" %}</span>Hoera! We verzenden je bestelling gratis.
    </div>

    <div class="cart-body">   

      <span class="close-drawer">{% include "icon-arrow-right" %}</span>
      <div class="cart-products-parent {% if cart.item_count == 0 %}no-disp{% endif %}">
        <div class="cart-products-wrapper">
          {% for item in cart.items %}
          
          {% assign featured_image = item.variant.image.src | default: item.product.featured_image %}

          <div class="cart-products-block">
            <div class="cart-product">
              <div class="cart-product-thumb">
                <a href="{{ item.url }}" class="">
                  <img src="{{ featured_image | product_img_url: '590x' }}" class="">
                </a>
              </div>
              <div class="cart-product-content">
                <div class="cart-product-row">
                  <div class="cart-product-col">
                    <h5>
                      <a href="{{ item.url }}" class="">{{ item.product.title }}</a>
                    </h5>
                    <p class="cart-product-price">€{{ item.original_line_price | divided_by: 100 }}</p>                  
                  </div>                
                  <div class="cart-product-col">
                    <button class="cart-product-remove" data-variant="{{ item.variant.id }}">
                      {% include "icon-x" %}
                    </button>
                  </div>                
                </div>
                
                <div class="cart-product-row">
                  {% unless item.variant.title contains "Default Title" %}{{ item.variant.title }}{% endunless %}
                </div>

                <div class="cart-product-row">
                  <div class="cart-product-col">
                    <span class="cart-product-amount no-translate" data-value="{{ item.quantity }}" data-adder="{{ multiplier }}">{{ item.quantity | times: multiplier | remove: '.0' }} {% unless item.variant.title contains "Default Title" %}{% if item.product.handle == "blisspaint-t-shirt" %}{% if cart.attributes.lang contains "nl" %}Maat:{% elsif cart.attributes.lang contains "fr" %}Taille:{% else %}Size:{% endif %} {{ item.variant.title }}{% else %}{{ item.variant.title }}{{ is_s }}{% endif %}{% else %}Product{{ is_s }}{% endunless %}</span>
                    {% unless item.variant.title contains "Default Title" or item.product.handle == "blisspaint-t-shirt" %}<span class="dot no-translate">&centerdot;</span>{% endunless %}
                    {% unless item.variant.title contains "Default Title" or item.product.handle == "blisspaint-t-shirt" %}<span class="cart-product-info">Covers {{ variant_title | remove: '.0' }} m<sup>2</sup></span>{% endunless %}
                  </div>
                  <div class="cart-product-col rel">
                    <span class="symbol symbol-minus" {% if item.quantity == 1 %}style="opacity: 0.5"{% endif %}><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" width="12" height="12" fill="none" stroke="currentcolor" stroke-width="2" style="display: inline-block; vertical-align: middle; overflow: visible;"><path d="M0 8 L16 8"></path></svg></span>
                    {% include "plus" %}
                  </div>
                </div>

              </div>
            </div>
          </div>      
          {% endfor %}
        </div>
      </div>
      
      <div class="cart-empty {% if cart.item_count > 0 %}no-disp{% endif %}">
        <span class="brushpaint">{% include "icon-paintbrush2" %}</span>
        <span class="cart-empty-text">Start <a href="/pages/paint">colouring</a> your cart!</span>
      </div>
      
    </div>
    
    <div class="cart-foot">
      
        <div class="cart-total-block">
          <div class="cart-product-row marg-bottom-xs">
            <div class="cart-product-col">
              <span class="total-text">Subtotal</span>
            </div>
            <div class="cart-product-col">
              <span class="total-price">{{ cart.total_price | money_without_trailing_zeros }}</span>
            </div>
          </div>
          <div class="cart-product-row sub-marg-bottom">
            <div class="cart-product-col">
              <span class="total-text">Shipping</span>
            </div>
            <div class="cart-product-col">
              <span class="total-text">{% if cart.total_price > 9999 or only_sample %}Free{% else %}€10{% endif %}</span>
            </div>
          </div>
          <a class="btn btn-center btn-default" href="/checkout">Checkout</a>
        </div>
      
    </div>
  </div>
</div>
<div class="background-drawer-cart"></div>

{% schema %}
  {
    "name": "Ajax Cart",
    "settings": []
  }
{% endschema %}

{% stylesheet %}
{% endstylesheet %}

{% javascript %}
{% endjavascript %}


<script>

  //drawer cart script
  $( ".cart-toggler, .background-drawer-cart, .close-drawer" ).click(function() {
    if($('.cart-toggler').hasClass("show") || $('.background-drawer-cart').hasClass("drawn")) {
      $('.cart-toggler').removeClass("show");
      $(".drawer-cart").removeClass("drawn");
      $(".background-drawer-cart").removeClass("drawn");
    } else {        
      $('.cart-toggler').addClass("show");
      $(".drawer-cart").addClass("drawn");
      $(".background-drawer-cart").addClass("drawn");
    }
  });
  
  
  
</script>